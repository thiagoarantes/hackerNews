<app-tab path="{{ path }}" title="{{ title }}">
  @for(story of this.allStories; track story.id) {
  <div class="story">
    <div class="title">
      <app-page-link
        [href]="story.url"
        [title]="story.title"
        [openInNewWindow]="true"
      />
    </div>
    <div class="details">
      <span>{{ story.score }} points</span>
      <span>by {{ story.by }}</span>
      <span>{{ story.time * 1000 | date : "yyyy-MM-dd HH:mm" }}</span>
      <span>
        @if(story.descendants) {
        <app-page-link
          [href]="story.url"
          title="{{ story.descendants + ' comments' }}"
          [comment]="true"
        />
        }
      </span>
    </div>
  </div>
  }
  <div
    class="more"
    [class.visible]="this.currentPage <= 24 && this.allStories.length"
  >
    @if (this.currentPage <= 24) { @if (isLoadingStories) {
    <span>Loading...</span>
    } @else {
    <button (click)="this.loadNextStoriesPage()">Load More</button>
    } }
  </div>
</app-tab>
